eiyaScript 使用手册

概述：
eiyaScript是为eiyaEngine所使用的一个脚本，它定义了弹幕和发射器的运作方式。
脚本的时间轴是基于帧的，eiyaEngine的默认帧率为30fps，不使用60fps的原因是考虑到Flash的速度。
脚本中所有的角度为角度制。
脚本中所有的语言元素都是全局的。
脚本中所有的数都是整型数。
脚本中所有的语言元素区分大小写。

Changelog
2012.11.16 16:09		删除motion_id，end_flag, turn
			更改do move命令
2012.11.16 17:14		删除lifetime属性，将血量移到声明中
			把lifetime作为一项行为选项放入move
			细节修改
2012.11.16 22:02		全部重写
2012.11.17 11:09		仅针对STAGE 3，不考虑后续扩展问题，删除大量功能。
			尤其删除使魔功能，使魔就是小怪，围绕固定点圆周运动，不跟BOSS。对于某些使魔的圆周运动持续时间长的问题，只要增大移动角度就行
2012.11.18 12:51		按需更改，更新子弹类，普通发射单位类和位图类
2012.11.18 13:25		删除估算半径
2012.11.18 13:35		删除stopMove
2012.11.18 20:20		修改语言结构，添加判断语句，跳转语句，删除循环语句
2012.11.20 19:11		去掉线段弹，加入奖励选项


一、语言元素
	语言元素由数值变量、类、对象、方法、标号和注释组成
	1. 数值变量
		数值变量存储整型数，即AS3中的Number类，要给一个数值变量赋值，使用如下语句
			$a = 1
		数值变量类仅支持自加减和赋值，且等号右边不能够是一个表达式。
		即可，无需声明变量，且变量都是全局的。

	2. 类
		类表示了在舞台上有独立行为的对象，在eiyaScript中，有且仅有如下的类：
			bmp	位图类
			mon	普通发射单位类
			bul	子弹类
		数值变量也是一个类，只是不能用下面对象声明的方式声明罢了。
		关于每个类的具体使用方式，请参考《三、语言参考》部分
	3. 对象
		一个对象即是一个类的实例，要使用一个对象，首先要定义一个对象。下面的语句定义了一个位图对象：
			$b as bmp
		
		也可以定义一组对象，下面语句定义了一组四个普通发射单位：
			$c[4] as mon
		
		可以操控一个对象，使用该类的方法，下面语句赋予了一副图像给组中每一个普通发射单位
			$c.setBmp $b
		
		如果只需要给单个普通发射单位赋予图像，这可以这样写：
			$c[0].setBmp $b
		
		注：数组元素不能作为数组的索引，如下面的写法将会报错
			$c[$d[1]].setBmp $b
		
		但是数值变量可以作为数组索引，如下面的写法则不会报错
			$c[$a].setBmp $b
		
		同时，也可以复制一个对象，下面的语句复制了一个位图对象
			$d as $b
		
		注：元素数组不能够复制，同样，数组中元素也不能够复制。
		注：一个对象一旦被声明，它的类型将不能再改变。
	
	4. 方法
		方法有参数，可以被调用，如上面例子中的setBmp就是一个方法
		方法的调用必须在对象上进行，除非是静态方法：
			bul.clear $f
		clear是bul类的静态方法，上面语句实现了清除舞台上所有子弹的功能。
	6. 标号
		标号必须独占一行，以L开头，以冒号结尾，如下所示
			L001:
	5. 注释
		以#开头的都是注释，不支持跨行注释，不支持语句后注释
		
二、语言结构
	eiyaScript包含了三种结构，顺序、判断、循环（由判断构成）
	1. 判断语句
		eiyaScript的判断语句使用方法如下
			goto 标号 when 条件
		其中条件不支持逻辑表达式，即不支持逻辑运算符。
		
	2. 改变运行顺序
		当goto后面不加when时，即执行无条件跳转
			goto L001
		上述表达式将无条件跳转到标号L001下面那条语句。
		注：所有的跳转标号必须先经历过，即只可上跳，不可下跳。
		
	3. 循环
		可以使用跳转和判断结合实现循环，下面的语句能使一个普通发射对象跳跃四次
			$x = 0
			$y = 0
			$f = 0
			$a as mon
			L001:
				$a.setPos $f,$x,$y
				$x.+ 12
				$y.+ 6
				$f.+ 30
			goto L001 when $f < 150
		
		
三、语言环境
	1. 坐标
		在eiyaScript中，坐标可由平面直角坐标，或极坐标表示
		平面直角坐标如下图所示：
		(0,0)
		    -------------------------> +x
		    |
		    |
		    |
		    |
		   \|/ +y
		极坐标如下图所示
		（0,0)------------------------
		      \ /            r
		       \    ρ+
		        \
		         \
		          \
		           \
		            \ 
		             \
		
三、语言参考
	1. 数值类
		(1) 如何实例化以及赋值一个数值类
			$a = 1
		(2) 方法
			① +n 自加
				示例： $a.+ 1
			② -n 自减
				示例： $a.- 1
	2. 位图类
		(1) 下面的语句定义了一个位图对象：
			$b as bmp
		(2) 方法
			① setRect width,height
			设置位图面积，超出面积的部分将不予显示
			参数：
				width	宽
				height	高
			
			② setPoint x,y
			设置中心点，位图的旋转将以此为中心，坐标以位图本身为参考系
			参数：
				x	中心点x坐标
				y	中心点y坐标
				
	3. 普通发射单位类
		(1) 如何实例化一个普通发射单位类
			$b as mon
		(2) 方法
			① setPos系列
				setPos frame,x,y
				定位
				参数：
					frame	在此帧定位
					x,y	直角坐标值
				
			② move系列
			
				move frame,tX,tY,v
				直线运动
				参数：
					frame	从该帧开始运动
					tX,tY	目的地坐标
					v	速度（点/帧）
				
				move frame,cX,cY,an,w
				圆周运动
				参数：
					frame	从该帧开始运动
					cX,cY	圆心坐标
					an	移动度数（顺时针为正）
					w	角速度（度/帧）
			
			③ shoot系列
				shootPolar frame,bul,ρ
				参数：
					frame	在该帧发射
					bul	子弹对象
					ρ	发射角度（与y轴正向的夹角）
				
				shootTrace frame,bul,an
				发射追踪弹
				参数：
					frame	在该帧发射
					bul	子弹对象
					an	相对追踪自机的角度偏移量
		
			④ die frame	
				从舞台上消失
				参数：
					frame	在第frame帧发生

			⑤ setLife life
				设置生命值
				参数：
					life	生命值
					
			⑥ setBmp bmp
				设置图像，没有设置则该发射单位不能在界面上显示，但是可以有行为（用于叠加）。
				参数：
					bmp	位图对象
					
			⑦ setHitRange radius
				设置碰撞半径，即进入此范围即为碰撞
				参数：
					radius	碰撞半径（px）
			
			⑧ setBonus sc,power,point,bomb
				设置奖励
				参数：
					sc	击毙分数
					power	power奖励个数
					point	point奖励个数
					bomb	bomb奖励个数
					
	4.子弹类
		(1) 方法
			① setBmp bmp
				设置图像
				参数：
					bmp	位图对象
					
			② setHitRange radius
				设置碰撞半径，即进入此范围即为碰撞
				参数：
					radius	碰撞半径（px）
					
			③ setSpeed v
				设置子弹速度（直线速度）
				参数：
					v	速度
					
			④ isRound v
				设置子弹是否为圆形
				参数：
					v	0为非圆，1为圆（默认为1）
					
		(2) 静态方法
			① clear frame
				清除屏幕上所有子弹
				参数：
					frame	在这一帧进行
